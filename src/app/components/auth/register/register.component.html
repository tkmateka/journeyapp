<form class="primary-light-border gap-1em flex column" [formGroup]="registerForm">
    <h2 class="text-center uploadBtn no-margin">Let's get started</h2>
    <!-- row -->
    <div class="flex space-between_center">
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="First name" [required]="true" type="text"
                    formControlName="firstName">
                <mat-error *ngIf="registerForm.get('firstName')?.hasError('required')">
                    First name is required
                </mat-error>
            </mat-form-field>
        </div>
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="Last name" [required]="true" type="text"
                    formControlName="lastName">
                <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
                    Last name is required
                </mat-error>
            </mat-form-field>
        </div>
    </div>

    <div class="flex space-between_center">
        <div class="full-width grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'">
                <mat-select placeholder="Select role"
                    [required]="true" formControlName="role">
                    <mat-option *ngFor="let option of roles"
                        [value]="option">{{option}}</mat-option>
                </mat-select>
                <mat-error *ngIf="registerForm.get('role')?.hasError('required')">
                    Role is required
                </mat-error>
            </mat-form-field>
        </div>
    </div>

    <!-- row -->
    <div class="flex space-between_center">
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput #idNumber placeholder="ID number" [required]="true" maxlength="13"
                    formControlName="idNumber" oninput="this.value=this.value.replace(/[^\d]/,'')"
                    (focusout)="validateID(idNumber.value)" type="text">

                <mat-error
                    *ngIf="registerForm.get('idNumber')?.hasError('pattern') && !registerForm.get('idNumber')?.hasError('required')">
                    ID number is invalid
                </mat-error>
                <mat-error *ngIf="registerForm.get('idNumber')?.hasError('required')">
                    ID number is required
                </mat-error>
            </mat-form-field>
        </div>
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'">
                <input matInput [matDatepicker]="picker" placeholder="dd/mm/yyyy"
                    formControlName="dateOfBirth">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>
    </div>
    <!-- row -->
    <div class="flex space-between_center">
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'">
                <input matInput placeholder="Gender" type="text" formControlName="gender"
                    autocomplete="false">
            </mat-form-field>
        </div>
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="Phone number" [required]="true" maxlength="10" type="text"
                    formControlName="phoneNumber" oninput="this.value=this.value.replace(/[^\d]/,'')">
                <mat-error
                    *ngIf="registerForm.get('phoneNumber')?.hasError('pattern') && !registerForm.get('phoneNumber')?.hasError('required')">
                    Invalid phone number
                </mat-error>
                <mat-error *ngIf="registerForm.get('phoneNumber')?.hasError('required')">
                    Phone number is required
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <!-- row -->
    <div class="flex space-between_center">
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="example@domain.com" [required]="true" type="email"
                    formControlName="email">
                <mat-error
                    *ngIf="registerForm.get('email')?.hasError('pattern') && !registerForm.get('email')?.hasError('required')">
                    Invalid email address
                </mat-error>
                <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                    Email is required
                </mat-error>
            </mat-form-field>
        </div>
        <div class="width-48" matTooltip="A clear photo of your Face">
            <div hidden>
                <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                    [hideRequiredMarker]="false">
                    <input matInput placeholder="Upload image" readonly (click)="fileInput.click()"
                        formControlName="photoURL" accept="image/*">
                </mat-form-field>
                <!-- Hidden File Upload Input -->
                <input hidden (change)="fileUpload($event)" #fileInput type="file" id="file">
            </div>
            <button mat-raised-button class="full-width" (click)="fileInput.click()" color="accent">
                <span class="material-icons">cloud_upload</span> Upload Image
            </button>
        </div>
    </div>
    <!-- row -->
    <div class="flex space-between_center">
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="Enter password" [required]="true" type="password"
                    formControlName="password" autocomplete="false">
                <mat-error
                    *ngIf="registerForm.get('password')?.hasError('minlength') && !registerForm.get('password')?.hasError('required')">
                    Password should be a minimum of 6 charecters
                </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                    Password is required
                </mat-error>
            </mat-form-field>
        </div>
        <div class="width-48 grey-border-input-container">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <input matInput placeholder="Confirm password" [required]="true" type="password"
                    formControlName="confirmPassword">
                <mat-error
                    *ngIf="registerForm.get('confirmPassword')?.hasError('minlength') && !registerForm.get('confirmPassword')?.hasError('required')">
                    Password don't match
                </mat-error>
                <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
                    Password confirmation is required
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <!-- row -->
    <div class="flex space-between_center">
        <div class="grey-border-input-container full-width">
            <mat-form-field [appearance]="'outline'" [floatLabel]="'never'"
                [hideRequiredMarker]="false">
                <textarea matInput placeholder="Tell us about you" [required]="true"
                    formControlName="about" class="full-width"></textarea>
                <mat-error
                    *ngIf="registerForm.get('password')?.hasError('minlength') && !registerForm.get('password')?.hasError('required')">
                    Password should be a minimum of 6 charecters
                </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                    Password is required
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <!-- Submit area -->
    <div class="flex center_center column">
        <p class="font-10 text-center">By clicking "Create My Account" button, you agree to JourneyApp
            terms of acceptable use.</p>
        <button mat-raised-button (click)="register()" color="primary" class="width-48">
            Create my Account
        </button>
    </div>

</form>